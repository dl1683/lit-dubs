{"version":3,"sources":["App.js","index.js"],"names":["languages","Enter","state","text","valid","done","onChange","e","matches","target","value","match","_this","setState","submit","setTimeout","props","onEnter","window","location","hash","length","this","replace","_this2","react_default","a","createElement","className","id","type","placeholder","map","_ref","_ref2","Object","slicedToArray","name","key","disabled","onClick","Component","Video","ready","videoRef","React","createRef","_this4","current","addEventListener","onReady","controls","ref","src","video","lang","App","goneWave","wave","updateVideo","_this5","stop","SiriWave","container","document","getElementById","width","innerWidth","height","innerHeight","style","speed","start","App_Video","App_Enter","ReactDOM","render","src_App_0"],"mappings":"oRAIMA,EAAY,CAChB,CAAC,UAAW,MACZ,CAAC,UAAW,MACZ,CAAC,SAAU,MACX,CAAC,SAAU,OAGPC,6MACJC,MAAQ,CACNC,KAAM,GACNC,OAAO,EACPC,MAAM,KAERC,SAAW,SAACC,GACV,IAAMC,EAAUD,EAAEE,OAAOC,MAAMC,MAAM,sHACrCC,EAAKC,SAAS,CACZV,KAAkB,OAAZK,EAAmBA,EAAQ,GAAKD,EAAEE,OAAOC,MAC/CN,MAAmB,OAAZI,OAGXM,OAAS,SAACJ,GACRE,EAAKC,SAAS,CAAER,MAAM,GAAQ,WAC5BU,WAAW,WACTH,EAAKI,MAAMC,QAAQL,EAAKV,MAAMC,KAAMO,IACnC,2FAIDQ,OAAOC,SAASC,KAAKC,OAAS,GAChCC,KAAKhB,SAAS,CAACG,OAAQ,CAACC,MAAOQ,OAAOC,SAASC,KAAKG,QAAQ,IAAK,wCAG5D,IAAAC,EAAAF,KACP,OACEG,EAAAC,EAAAC,cAAA,OAAKC,UAAW,SAAWN,KAAKpB,MAAMG,KAAO,QAAU,IAAKwB,GAAG,cAC7DJ,EAAAC,EAAAC,cAAA,SAAOC,UAAWN,KAAKpB,MAAME,MAAQ,QAAU,GAAI0B,KAAK,OAAOC,YAAY,oBAAoBrB,MAAOY,KAAKpB,MAAMC,KAAMG,SAAUgB,KAAKhB,WACtImB,EAAAC,EAAAC,cAAA,OAAKC,UAAWN,KAAKpB,MAAME,MAAQ,QAAU,IAC1CJ,EAAUgC,IAAI,SAAAC,GAAA,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAF,EAAA,GAAEI,EAAFH,EAAA,GAAQxB,EAARwB,EAAA,UACbT,EAAAC,EAAAC,cAAA,UAAQW,IAAK5B,EAAO6B,UAAWf,EAAKtB,MAAME,MAAOoC,QAAS,kBAAMhB,EAAKV,OAAOJ,KAAS2B,cA/B7EI,aAuCdC,6MACJxC,MAAQ,CACNyC,OAAO,KAETC,SAAWC,IAAMC,+FACG,IAAAC,EAAAzB,KAClBA,KAAKsB,SAASI,QAAQC,iBAAiB,UAAW,WAChDF,EAAKlC,SAAS,CAAE8B,OAAO,IACvBI,EAAK/B,MAAMkC,6CAIb,OACEzB,EAAAC,EAAAC,cAAA,OAAKC,UAAW,mBAAqBN,KAAKpB,MAAMyC,MAAQ,SAAW,KAChErB,KAAKpB,MAAMyC,MAAQ,KAAOlB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACxCH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACfH,EAAAC,EAAAC,cAAA,mDAEFF,EAAAC,EAAAC,cAAA,SAAOwB,UAAQ,EAACC,IAAK9B,KAAKsB,UACxBnB,EAAAC,EAAAC,cAAA,UAAQ0B,IAAK,qCAAuC/B,KAAKN,MAAMsC,MAAQ,SAAWhC,KAAKN,MAAMuC,KAAMzB,KAAK,uBAnB9FW,aAgELe,6MArCbtD,MAAQ,CACNoD,MAAO,KACPC,KAAM,KACNE,UAAU,KAEZC,KAAO,OACPC,YAAc,SAACL,EAAOC,GACpBK,EAAK/C,SAAS,CAAEyC,QAAOC,YAYzBL,QAAU,WACRU,EAAK/C,SAAS,CAAE4C,UAAU,IAC1B1C,WAAW,WACT6C,EAAKF,KAAKG,QACT,yFAbHvC,KAAKoC,KAAO,IAAII,IAAS,CACvBC,UAAWC,SAASC,eAAe,OACnCC,MAAOhD,OAAOiD,WACdC,OAA6B,EAArBlD,OAAOmD,YACfC,MAAO,OACPC,MAAO,MAETjD,KAAKoC,KAAKc,uDASVlD,KAAKoC,KAAKG,wCAGV,OACEpC,EAAAC,EAAAC,cAAA,OAAKE,GAAG,MAAMD,UAAWN,KAAKpB,MAAMuD,SAAW,WAAa,IACpC,OAArBnC,KAAKpB,MAAMoD,MAAiB7B,EAAAC,EAAAC,cAAC8C,EAAD,CAAOvB,QAAS5B,KAAK4B,QAASI,MAAOhC,KAAKpB,MAAMoD,MAAOC,KAAMjC,KAAKpB,MAAMqD,OAAW9B,EAAAC,EAAAC,cAAC+C,EAAD,CAAOzD,QAASK,KAAKqC,sBAhC3HlB,aCvElBkC,IAASC,OAAOnD,EAAAC,EAAAC,cAACkD,EAAD,MAASb,SAASC,eAAe","file":"static/js/main.0c997b61.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.scss';\nimport SiriWave from 'siriwave';\n\nconst languages = [\n  ['English', 'en'],\n  ['Spanish', 'es'],\n  ['French', 'fr'],\n  ['Korean', 'ko']\n]\n\nclass Enter extends Component {\n  state = {\n    text: '',\n    valid: false,\n    done: false\n  };\n  onChange = (e) => {\n    const matches = e.target.value.match(/http(?:s?):\\/\\/(?:www\\.)?youtu(?:be\\.com\\/watch\\?v=|\\.be\\/)([\\w\\-\\_]*)(&(amp;)?‌​[\\w\\?‌​=]*)?/i);\n    this.setState({ \n      text: matches !== null ? matches[1] : e.target.value,\n      valid: matches !== null,\n    });\n  };\n  submit = (value) => {\n    this.setState({ done: true }, () => {\n      setTimeout(() => {\n        this.props.onEnter(this.state.text, value);\n      }, 1000);\n    });\n  }\n  componentDidMount() {\n    if (window.location.hash.length > 1) {\n      this.onChange({target: {value: window.location.hash.replace('#', '') }});\n    }\n  }\n  render() {\n    return (\n      <div className={\"enter\" + (this.state.done ? ' done' : '')} id=\"enter-area\">\n        <input className={this.state.valid ? 'valid' : ''} type=\"text\" placeholder=\"Enter Youtube URL\" value={this.state.text} onChange={this.onChange}></input>\n        <div className={this.state.valid ? 'valid' : ''}>\n          {languages.map(([name, value]) => (\n            <button key={value} disabled={!this.state.valid} onClick={() => this.submit(value)}>{name}</button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Video extends Component {\n  state = {\n    ready: false\n  };\n  videoRef = React.createRef();\n  componentDidMount() {\n    this.videoRef.current.addEventListener('canplay', () => {\n      this.setState({ ready: true });\n      this.props.onReady();\n    });\n  }\n  render() {\n    return (\n      <div className={\"video-container\" + (this.state.ready ? ' ready' : '')}>\n        {this.state.ready ? null : <div className=\"loader\">\n          <div className=\"spinner\"></div>\n          <p>Converting... (this may take a while)</p>\n        </div> }\n        <video controls ref={this.videoRef}>\n          <source src={\"http://visualyze.tech/download?id=\" + this.props.video + \"&lang=\" + this.props.lang} type=\"video/mp4\" />\n        </video>\n      </div>\n    )\n  }\n}\n\nclass App extends Component {\n  state = {\n    video: null,\n    lang: null,\n    goneWave: false\n  };\n  wave = null;\n  updateVideo = (video, lang) => {\n    this.setState({ video, lang });\n  };\n  componentDidMount() {\n    this.wave = new SiriWave({\n      container: document.getElementById('app'),\n      width: window.innerWidth,\n      height: window.innerHeight * 2,\n      style: 'ios9',\n      speed: 0.08\n    });\n    this.wave.start();\n  }\n  onReady = () => {\n    this.setState({ goneWave: true });\n    setTimeout(() => {\n      this.wave.stop();\n    }, 5000);\n  }\n  componentWillUnmount() {\n    this.wave.stop();\n  }\n  render() {\n    return (\n      <div id=\"app\" className={this.state.goneWave ? 'goneWave' : ''}>\n        {this.state.video !== null ? <Video onReady={this.onReady} video={this.state.video} lang={this.state.lang} /> : <Enter onEnter={this.updateVideo} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}